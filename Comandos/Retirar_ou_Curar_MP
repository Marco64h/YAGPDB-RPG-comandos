//Segue a mesma l√≥gica que o de HP, a diferen√ßa √© que conta no MP
//Novamente, caso use os mesmos prefixos, basta usar para curar (Ter 100 ou +100 n√£o faz diferen√ßa): << @Usu√°rio 100
//E para retirar, a mesma coisa que dano: << @Usu√°rio -100

{{$ln := (len .Args)}}
	{{if gt $ln 1}}
	{{$1 := (index .Args 1)}}
		{{if ($user := userArg $1)}}
			{{if gt $ln 2}}
			{{$2 := (index .Args 2)}}
				{{if (toInt $2)}}
					{{if lt (toInt $2) 0}}
					{{/* DANO */}}
					{{$targetStats := (dbGet (toInt64 $user.ID) "profilemain").Value}}
					{{$targetEnergia := (sdict $targetStats).Get "Energia"}}
					{{$targetname := ((sdict $targetStats).Get "nome")}}

					{{$userstats := (dbGet (toInt64 .User.ID) "profilemain").Value}}
					{{$username := ((sdict $userstats).Get "nome")}}

					{{$mappedStats := (sdict $targetStats)}}
					{{$mappedStats.Set "Energia" (add $targetEnergia (toInt $2))}}
					{{$verifyEnergia := $mappedStats.Get "Energia"}}
					{{/* VERIFICANDO SE MORREU */}}
						{{if le $verifyEnergia 0}}
						{{$mappedStats.Set "Energia" 0}}
						{{dbSet (toInt64 $user.ID) "profilemain" $mappedStats}}
						{{$ActionLog := cembed "title" "Log de Batalha" "description" (joinStr "" "üî• " $username " Retirou __" (mult (toInt $2) -1) " da Energia de__ " $targetname "! \n üò® " $targetname " Ficou com __0 de Mana__ Restante! \n üò± __" $targetname " Fica Vulner√°vel!__")}}
						{{sendMessage nil $ActionLog}}
						{{else}}
						{{$mappedStats.Set "Energia" (add $targetEnergia (toInt $2))}}
						{{dbSet (toInt64 $user.ID) "profilemain" $mappedStats}}
						{{$ActionLog := cembed "title" "Log de Batalha" "description" (joinStr "" "üî• " $username " Retirou __" (mult (toInt $2) -1) " da Mana__  de " $targetname "! \n üåÄ " $targetname " Ficou com __" $verifyEnergia "__ de Mana! ") "color" 11748677}}
						{{sendMessage nil $ActionLog}}
						{{end}}
					{{else}}
					{{/* CURA */}}
					{{$targetStats := (dbGet (toInt64 $user.ID) "profilemain").Value}}
					{{$targetEnergia := (sdict $targetStats).Get "Energia"}}
					{{$targetMaxEnergia := (sdict $targetStats).Get "MaxEnergia"}}
					{{$targetname := ((sdict $targetStats).Get "nome")}}

					{{$userstats := (dbGet (toInt64 .User.ID) "profilemain").Value}}
					{{$username := ((sdict $userstats).Get "nome")}}

					{{$mappedStats := (sdict $targetStats)}}
					{{$mappedStats.Set "Energia" (add $targetEnergia (toInt $2))}}
					{{$verifyEnergia := $mappedStats.Get "Energia"}}
					{{/* VERIFICANDO SE HOUVE OVERHEAL */}}
					{{$verifyEnergia := (toInt64 $verifyEnergia)}}
					{{$targetMaxEnergia := (toInt64 $targetMaxEnergia)}}
						{{if gt $verifyEnergia $targetMaxEnergia}}
						{{$mappedStats.Set "Energia" $targetMaxEnergia}}
						{{dbSet (toInt64 $user.ID) "profilemain" $mappedStats}}
						{{$ActionLog := cembed "title" "Log de Batalha" "description" (joinStr "" "üî• " $username " Recuperou __" (toInt $2) " Mana__  de " $targetname "! \n üßò " $targetname " Teve a __Mana Totalmente Restaurada__! (" $targetMaxEnergia ")" ) "color" 16758241}}
						{{sendMessage nil $ActionLog}}
						{{else}}
						{{$mappedStats.Set "Energia" (add $targetEnergia (toInt $2))}}
						{{dbSet (toInt64 $user.ID) "profilemain" $mappedStats}}
						{{$ActionLog := cembed "title" "Log de Batalha" "description" (joinStr "" "‚ö° " $username " Recuperou __" (toInt $2) " Mana__  de " $targetname "! \n üî• " $targetname " Recuperou sua Mana __" $verifyEnergia "__ Restante!") "color" 16758241}}
						{{sendMessage nil $ActionLog}}
						{{end}}
					{{end}}
				{{else}}
> **`{{$2}}` n√£o √© um n√∫mero!**
				{{end}}
			{{else}}
> **Voc√™ n√£o definiu uma quantidade v√°lida de Dano/Recupera√ß√£o!**
			{{end}}
		{{else}}
> **Men√ß√£o inv√°lida!**
		{{end}}
	{{else}}
> **Voc√™ n√£o mencionou um alvo!**
	{{end}}
